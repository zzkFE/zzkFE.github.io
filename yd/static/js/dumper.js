/*! 
 tshirt 
 发布时间：2016-08-21 14:08:24 
 游订公司
*/
"use strict";function compileStyleMap(a,b){var c,d,e,f,g,h,i;if(null===b)return{};for(c={},d=Object.keys(b),e=0,f=d.length;e<f;e+=1)g=d[e],h=String(b[g]),"!!"===g.slice(0,2)&&(g="tag:yaml.org,2002:"+g.slice(2)),i=a.compiledTypeMap[g],i&&_hasOwnProperty.call(i.styleAliases,h)&&(h=i.styleAliases[h]),c[g]=h;return c}function encodeHex(a){var b,c,d;if(b=a.toString(16).toUpperCase(),a<=255)c="x",d=2;else if(a<=65535)c="u",d=4;else{if(!(a<=4294967295))throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");c="U",d=8}return"\\"+c+common.repeat("0",d-b.length)+b}function State(a){this.schema=a.schema||DEFAULT_FULL_SCHEMA,this.indent=Math.max(1,a.indent||2),this.skipInvalid=a.skipInvalid||!1,this.flowLevel=common.isNothing(a.flowLevel)?-1:a.flowLevel,this.styleMap=compileStyleMap(this.schema,a.styles||null),this.sortKeys=a.sortKeys||!1,this.lineWidth=a.lineWidth||80,this.noRefs=a.noRefs||!1,this.noCompatMode=a.noCompatMode||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(a,b){for(var c,d=common.repeat(" ",b),e=0,f=-1,g="",h=a.length;e<h;)f=a.indexOf("\n",e),f===-1?(c=a.slice(e),e=h):(c=a.slice(e,f+1),e=f+1),c.length&&"\n"!==c&&(g+=d),g+=c;return g}function generateNextLine(a,b){return"\n"+common.repeat(" ",a.indent*b)}function testImplicitResolving(a,b){var c,d,e;for(c=0,d=a.implicitTypes.length;c<d;c+=1)if(e=a.implicitTypes[c],e.resolve(b))return!0;return!1}function StringBuilder(a){this.source=a,this.result="",this.checkpoint=0}function writeScalar(a,b,c,d){var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;if(0===b.length)return void(a.dump="''");if(!a.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(b)!==-1)return void(a.dump="'"+b+"'");for(e=!0,f=b.length?b.charCodeAt(0):0,g=CHAR_SPACE===f||CHAR_SPACE===b.charCodeAt(b.length-1),CHAR_MINUS!==f&&CHAR_QUESTION!==f&&CHAR_COMMERCIAL_AT!==f&&CHAR_GRAVE_ACCENT!==f||(e=!1),g||a.flowLevel>-1&&a.flowLevel<=c?(g&&(e=!1),h=!1,i=!1):(h=!d,i=!d),j=!0,k=new StringBuilder(b),l=!1,m=0,n=0,o=a.indent*c,p=a.lineWidth,p===-1&&(p=9007199254740991),o<40?p-=o:p=40,r=0;r<b.length;r++){if(q=b.charCodeAt(r),e){if(simpleChar(q))continue;e=!1}j&&q===CHAR_SINGLE_QUOTE&&(j=!1),s=ESCAPE_SEQUENCES[q],t=needsHexEscape(q),(s||t)&&(q!==CHAR_LINE_FEED&&q!==CHAR_DOUBLE_QUOTE&&q!==CHAR_SINGLE_QUOTE?(h=!1,i=!1):q===CHAR_LINE_FEED&&(l=!0,j=!1,r>0&&(u=b.charCodeAt(r-1),u===CHAR_SPACE&&(i=!1,h=!1)),h&&(v=r-m,m=r,v>n&&(n=v))),q!==CHAR_DOUBLE_QUOTE&&(j=!1),k.takeUpTo(r),k.escapeChar())}if(e&&testImplicitResolving(a,b)&&(e=!1),w="",(h||i)&&(x=0,b.charCodeAt(b.length-1)===CHAR_LINE_FEED&&(x+=1,b.charCodeAt(b.length-2)===CHAR_LINE_FEED&&(x+=1)),0===x?w="-":2===x&&(w="+")),(i&&n<p||null!==a.tag)&&(h=!1),l||(i=!1),e)a.dump=b;else if(j)a.dump="'"+b+"'";else if(h)y=fold(b,p),a.dump=">"+w+"\n"+indentString(y,o);else if(i)w||(b=b.replace(/\n$/,"")),a.dump="|"+w+"\n"+indentString(b,o);else{if(!k)throw new Error("Failed to dump scalar value");k.finish(),a.dump='"'+k.result+'"'}}function fold(a,b){var c,d="",e=0,f=a.length,g=/\n+$/.exec(a);for(g&&(f=g.index+1);e<f;)c=a.indexOf("\n",e),c>f||c===-1?(d&&(d+="\n\n"),d+=foldLine(a.slice(e,f),b),e=f):(d&&(d+="\n\n"),d+=foldLine(a.slice(e,c),b),e=c+1);return g&&"\n"!==g[0]&&(d+=g[0]),d}function foldLine(a,b){if(""===a)return a;for(var c,d,e,f=/[^\s] [^\s]/g,g="",h=0,i=0,j=f.exec(a);j;)c=j.index,c-i>b&&(d=h!==i?h:c,g&&(g+="\n"),e=a.slice(i,d),g+=e,i=d+1),h=c+1,j=f.exec(a);return g&&(g+="\n"),g+=i!==h&&a.length-i>b?a.slice(i,h)+"\n"+a.slice(h+1):a.slice(i)}function simpleChar(a){return CHAR_TAB!==a&&CHAR_LINE_FEED!==a&&CHAR_CARRIAGE_RETURN!==a&&CHAR_COMMA!==a&&CHAR_LEFT_SQUARE_BRACKET!==a&&CHAR_RIGHT_SQUARE_BRACKET!==a&&CHAR_LEFT_CURLY_BRACKET!==a&&CHAR_RIGHT_CURLY_BRACKET!==a&&CHAR_SHARP!==a&&CHAR_AMPERSAND!==a&&CHAR_ASTERISK!==a&&CHAR_EXCLAMATION!==a&&CHAR_VERTICAL_LINE!==a&&CHAR_GREATER_THAN!==a&&CHAR_SINGLE_QUOTE!==a&&CHAR_DOUBLE_QUOTE!==a&&CHAR_PERCENT!==a&&CHAR_COLON!==a&&!ESCAPE_SEQUENCES[a]&&!needsHexEscape(a)}function needsHexEscape(a){return!(32<=a&&a<=126||133===a||160<=a&&a<=55295||57344<=a&&a<=65533||65536<=a&&a<=1114111)}function writeFlowSequence(a,b,c){var d,e,f="",g=a.tag;for(d=0,e=c.length;d<e;d+=1)writeNode(a,b,c[d],!1,!1)&&(0!==d&&(f+=", "),f+=a.dump);a.tag=g,a.dump="["+f+"]"}function writeBlockSequence(a,b,c,d){var e,f,g="",h=a.tag;for(e=0,f=c.length;e<f;e+=1)writeNode(a,b+1,c[e],!0,!0)&&(d&&0===e||(g+=generateNextLine(a,b)),g+="- "+a.dump);a.tag=h,a.dump=g||"[]"}function writeFlowMapping(a,b,c){var d,e,f,g,h,i="",j=a.tag,k=Object.keys(c);for(d=0,e=k.length;d<e;d+=1)h="",0!==d&&(h+=", "),f=k[d],g=c[f],writeNode(a,b,f,!1,!1)&&(a.dump.length>1024&&(h+="? "),h+=a.dump+": ",writeNode(a,b,g,!1,!1)&&(h+=a.dump,i+=h));a.tag=j,a.dump="{"+i+"}"}function writeBlockMapping(a,b,c,d){var e,f,g,h,i,j,k="",l=a.tag,m=Object.keys(c);if(a.sortKeys===!0)m.sort();else if("function"==typeof a.sortKeys)m.sort(a.sortKeys);else if(a.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(e=0,f=m.length;e<f;e+=1)j="",d&&0===e||(j+=generateNextLine(a,b)),g=m[e],h=c[g],writeNode(a,b+1,g,!0,!0,!0)&&(i=null!==a.tag&&"?"!==a.tag||a.dump&&a.dump.length>1024,i&&(j+=a.dump&&CHAR_LINE_FEED===a.dump.charCodeAt(0)?"?":"? "),j+=a.dump,i&&(j+=generateNextLine(a,b)),writeNode(a,b+1,h,!0,i)&&(j+=a.dump&&CHAR_LINE_FEED===a.dump.charCodeAt(0)?":":": ",j+=a.dump,k+=j));a.tag=l,a.dump=k||"{}"}function detectType(a,b,c){var d,e,f,g,h,i;for(e=c?a.explicitTypes:a.implicitTypes,f=0,g=e.length;f<g;f+=1)if(h=e[f],(h.instanceOf||h.predicate)&&(!h.instanceOf||"object"==typeof b&&b instanceof h.instanceOf)&&(!h.predicate||h.predicate(b))){if(a.tag=c?h.tag:"?",h.represent){if(i=a.styleMap[h.tag]||h.defaultStyle,"[object Function]"===_toString.call(h.represent))d=h.represent(b,i);else{if(!_hasOwnProperty.call(h.represent,i))throw new YAMLException("!<"+h.tag+'> tag resolver accepts not "'+i+'" style');d=h.represent[i](b,i)}a.dump=d}return!0}return!1}function writeNode(a,b,c,d,e,f){a.tag=null,a.dump=c,detectType(a,c,!1)||detectType(a,c,!0);var g=_toString.call(a.dump);d&&(d=a.flowLevel<0||a.flowLevel>b);var h,i,j="[object Object]"===g||"[object Array]"===g;if(j&&(h=a.duplicates.indexOf(c),i=h!==-1),(null!==a.tag&&"?"!==a.tag||i||2!==a.indent&&b>0)&&(e=!1),i&&a.usedDuplicates[h])a.dump="*ref_"+h;else{if(j&&i&&!a.usedDuplicates[h]&&(a.usedDuplicates[h]=!0),"[object Object]"===g)d&&0!==Object.keys(a.dump).length?(writeBlockMapping(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(writeFlowMapping(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else if("[object Array]"===g)d&&0!==a.dump.length?(writeBlockSequence(a,b,a.dump,e),i&&(a.dump="&ref_"+h+a.dump)):(writeFlowSequence(a,b,a.dump),i&&(a.dump="&ref_"+h+" "+a.dump));else{if("[object String]"!==g){if(a.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+g)}"?"!==a.tag&&writeScalar(a,a.dump,b,f)}null!==a.tag&&"?"!==a.tag&&(a.dump="!<"+a.tag+"> "+a.dump)}return!0}function getDuplicateReferences(a,b){var c,d,e=[],f=[];for(inspectNode(a,e,f),c=0,d=f.length;c<d;c+=1)b.duplicates.push(e[f[c]]);b.usedDuplicates=new Array(d)}function inspectNode(a,b,c){var d,e,f;if(null!==a&&"object"==typeof a)if(e=b.indexOf(a),e!==-1)c.indexOf(e)===-1&&c.push(e);else if(b.push(a),Array.isArray(a))for(e=0,f=a.length;e<f;e+=1)inspectNode(a[e],b,c);else for(d=Object.keys(a),e=0,f=d.length;e<f;e+=1)inspectNode(a[d[e]],b,c)}function dump(a,b){b=b||{};var c=new State(b);return c.noRefs||getDuplicateReferences(a,c),writeNode(c,0,a,!0,!0)?c.dump+"\n":""}function safeDump(a,b){return dump(a,common.extend({schema:DEFAULT_SAFE_SCHEMA},b))}var common=require("./common"),YAMLException=require("./exception"),DEFAULT_FULL_SCHEMA=require("./schema/default_full"),DEFAULT_SAFE_SCHEMA=require("./schema/default_safe"),_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0",ESCAPE_SEQUENCES[7]="\\a",ESCAPE_SEQUENCES[8]="\\b",ESCAPE_SEQUENCES[9]="\\t",ESCAPE_SEQUENCES[10]="\\n",ESCAPE_SEQUENCES[11]="\\v",ESCAPE_SEQUENCES[12]="\\f",ESCAPE_SEQUENCES[13]="\\r",ESCAPE_SEQUENCES[27]="\\e",ESCAPE_SEQUENCES[34]='\\"',ESCAPE_SEQUENCES[92]="\\\\",ESCAPE_SEQUENCES[133]="\\N",ESCAPE_SEQUENCES[160]="\\_",ESCAPE_SEQUENCES[8232]="\\L",ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];StringBuilder.prototype.takeUpTo=function(a){var b;if(a<this.checkpoint)throw b=new Error("position should be > checkpoint"),b.position=a,b.checkpoint=this.checkpoint,b;return this.result+=this.source.slice(this.checkpoint,a),this.checkpoint=a,this},StringBuilder.prototype.escapeChar=function(){var a,b;return a=this.source.charCodeAt(this.checkpoint),b=ESCAPE_SEQUENCES[a]||encodeHex(a),this.result+=b,this.checkpoint+=1,this},StringBuilder.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},module.exports.dump=dump,module.exports.safeDump=safeDump;